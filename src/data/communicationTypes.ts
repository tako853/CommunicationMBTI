import { CommunicationType, CommunicationTypeInfo } from '../types/analysis';

// 16タイプのデータ定義
export const COMMUNICATION_TYPES: Record<CommunicationType, CommunicationTypeInfo> = {
  // Assert + Connect + Faceful + Perceptive
  ACFP: {
    type: 'ACFP',
    name: 'ステージヒーロー',
    description: 'ステージヒーローは、自己表現力・共感力・察知力がすべて高く、周囲の空気を瞬時に読み取りながら自分の意見や感情を積極的に発信するタイプです。会話の中心になりやすく、その場の温度を一気に上げるエネルギッシュな存在。感情の起伏や場の空気を言語・非言語の両方で伝えるため、自然と人を惹きつけます。',
    strengths: ['自己表現が豊かで説得力がある', '相手の感情を察知し、共感した反応ができる', '周囲の雰囲気を一気に盛り上げられる'],
    cautions: ['時に話しすぎてしまい、他者の発言の機会を奪うことがある', '高いエネルギーゆえに、落ち着いた場では浮いてしまう場合も'],
    imagePath: '/types/acfp.jpg',
  },
  ACFT: {
    type: 'ACFT',
    name: '陽気な番犬',
    description: '陽気な番犬は、感情表現と自己表現がとても豊かで、場にいるだけで安心感を生み出すタイプです。察する力はそこまで高くないものの、相手が気持ちを言葉にしてくれさえすれば、それを全力で受け止め、全力で返します。リアクションがわかりやすく、感情の動きが表に出るため、「この人にはちゃんと伝わっている」と相手に思わせやすい存在です。深読みや空気の裏読みはしない分、コミュニケーションはとても素直で誠実。その率直さと明るさから、自然と「一緒にいると安心する人」「場を和ませる人」になりやすいでしょう。',
    strengths: ['感情表現が豊かで、反応がとにかくわかりやすい', '言葉で伝えられた気持ちを全力で拾い、共感できる', '嘘や裏がなく、安心感のあるコミュニケーション'],
    cautions: ['察することが前提の関係では、すれ違いが起きやすい', '感情表現が大きいため、落ち着いた場では浮くこともある'],
    imagePath: '/types/acft.jpg',
  },
  ACSP: {
    type: 'ACSP',
    name: '気配り委員長',
    description: '気配り委員長は、話す量は比較的多いものの、所作や態度は落ち着いており、場に安定感をもたらすタイプです。相手のちょっとした違和感や空気のズレにすぐ気づき、それを刺激せず、的確な一言で自然に流れを整えます。感情を煽るよりも、相手の内側を丁寧に拾うため、会話は表面的になりにくく、気づけば深い話に進んでいることも多いでしょう。主張は強すぎず、しかし曖昧でもない。その絶妙なバランス感覚によって、無意識のうちに「この人がいれば場が崩れない」と思われやすい存在です。',
    strengths: ['相手の違和感や空気の変化にいち早く気づける', '的確な発言で会話や場の流れを自然に修正できる', '深い話に入りやすく、信頼関係を築きやすい'],
    cautions: ['周囲を優先しすぎて、自分の本音を後回しにしがち', '場を整える役に回りすぎると、負担を抱え込みやすい'],
    imagePath: '/types/acsp.jpg',
  },
  ACST: {
    type: 'ACST',
    name: '控えめリーダー',
    description: '控えめリーダーは、感情への共感力を持ちながらも、それを発揮するためには言語情報を必要とするタイプです。空気や表情から察することはあまり得意ではありませんが、相手が言葉にしてくれた感情や状況については、冷静に受け取り、丁寧に整理することができます。普段は控えめで受動的。会話でも前に出ることは少ないものの、必要な場面では要点を外さないコメントを差し込み、議論を落ち着いた方向へ導きます。感情を煽るよりも整えることを得意とするため、対立や混乱が起きた場では、静かに信頼を集めやすい存在です。',
    strengths: ['言語化された感情や状況を冷静に整理できる', '控えめながら、要点を押さえた発言ができる', '落ち着いた議論や話し合いの場に強い'],
    cautions: ['非言語的なサインを前提にされると、理解が追いつきにくい', '遠慮しすぎると、実力や意見が見過ごされやすい'],
    imagePath: '/types/acst.jpg',
  },

  // Assert + Distill + Faceful + Perceptive
  ADFP: {
    type: 'ADFP',
    name: '論理番長',
    description: '論理番長は、要点を重視する合理的な思考を持ちながら、同時に場の空気や感情のズレにも鋭く気づけるタイプです。感情を排除するのではなく、「何がどうズレているのか」を論理的に言語化し、納得できる形で示します。主張ははっきりしており強めですが、独りよがりではなく、相手に伝わる形で表情や言葉を使うため、「強いけど頼れる人」として受け取られやすい存在です。議論や話し合いの場では、混乱を整理し、結論へと一気に引き寄せる推進力になります。',
    strengths: ['要点を瞬時に捉え、筋道立てて説明できる', '感情のズレを論理的に整理し、衝突を収められる', '表情や話し方がわかりやすく、説得力が高い'],
    cautions: ['主張の強さが、圧や支配的に受け取られることがある', '感情的な共感だけを求められる場では、冷たく見えることもある'],
    imagePath: '/types/adfp.jpg',
  },
  ADFT: {
    type: 'ADFT',
    name: '隠れ指導者',
    description: '隠れ指導者は、感情よりも情報を重視し、物事を非常にわかりやすく整理して伝えるタイプです。自分から感情を読み取って踏み込むことは少なく、相手の質問や反応、明確な言葉を待ってから動きます。一度スイッチが入ると、要点を端的に示しながら、表情や話し方で重要なポイントをしっかり強調。教える・説明する・指導するといった場面で力を発揮し、「気づいたらこの人の話を聞いていた」「自然と理解できていた」と思われやすい存在です。前に出て引っ張るというより、必要な時に的確な情報を差し出す"静かな導き手"といえるでしょう。',
    strengths: ['情報整理力が高く、説明がとにかくわかりやすい', '相手の反応に応じて、必要な情報を的確に提供できる', '教育・指導・プレゼンの場で安定した力を発揮する'],
    cautions: ['明示されない感情や意図には気づきにくい', '共感を求められる場では、少し距離がある印象を持たれることも'],
    imagePath: '/types/adft.jpg',
  },
  ADSP: {
    type: 'ADSP',
    name: '観察系戦略家',
    description: null,
    strengths: ['発言は端的で場の空気をよく汲み取る', '情報整理力と空気を読む力が高い', '場の雰囲気を読み、情報提供でフォローできる'],
    cautions: ['静かに主導権を握るため、周囲に気づかれにくい'],
    imagePath: '/types/adsp.jpg',
  },
  ADST: {
    type: 'ADST',
    name: 'もくもく研究者',
    description: null,
    strengths: ['感情に左右されずブレない', '必要な時だけ行動し、最小限の表現で済ませる', '言われたことを確実に処理できる'],
    cautions: ['感情を基本スルーするため誤解されやすい'],
    imagePath: '/types/adst.jpg',
  },

  // Reserved + Connect + Faceful + Perceptive
  RCFP: {
    type: 'RCFP',
    name: 'リスニングエンジェル',
    description: 'リスニングエンジェルは、自分から多くを語ることはないものの、相手の感情や心の動きを鋭く察知する、聞き役に特化したタイプです。言葉だけでなく、声のトーンや表情、間の取り方から相手の気持ちを汲み取り、それに合わせた反応を自然に返します。過剰に踏み込むことはなく、ただ「ちゃんと聞いてくれている」という安心感を与えるため、相手は無意識のうちに本音を話しやすくなります。共感は言葉よりも、表情や声色で示すことが多く、静かな優しさが長く心に残る存在です。',
    strengths: ['感情察知力が高く、相手の心の動きに気づきやすい', '聞き役としての安心感があり、信頼を得やすい', '表情や声で自然に共感を伝えられる'],
    cautions: ['自分の意見や本音を後回しにしがち', '主張を求められる場では、存在感が薄く見えることがある'],
    imagePath: '/types/rcfp.jpg',
  },
  RCFT: {
    type: 'RCFT',
    name: '優しい受信機',
    description: '優しい受信機は、相手の言葉を受け取ることに特化したタイプです。自分から話題を広げたり主張したりすることは少なく、基本スタンスは「まず相手の話を待つ」。一度相手が言葉を発すると、その内容や感情に全力で共感し、安心感のある反応を返します。否定や分析よりも受容を優先するため、「この人には話しても大丈夫」と感じさせる存在になりやすいです。',
    strengths: ['相手の話を否定せず、安心して受け止められる', '共感のリアクションが安定している', '感情的になりやすい場面を穏やかにする'],
    cautions: ['自分の意見や本音を後回しにしがち', '主体性がないと思われることがある'],
    imagePath: '/types/rcft.jpg',
  },
  RCSP: {
    type: 'RCSP',
    name: '沈黙の理解者',
    description: '沈黙の理解者は、言葉よりも「場」と「人」を深く感じ取るタイプです。自分から話すことはほとんどなく、相槌や表情も控えめ。それでも相手の感情や立場、場の空気を正確に把握しており、内側では常に状況を整理しています。多くを語らないからこそ、発した一言には重みがあり、自然と「この人はわかってくれている」という深い信頼を得やすい存在です。',
    strengths: ['空気・感情・関係性を静かに把握できる', '発言の重みが強く、信頼されやすい', '無理に介入せず、必要な時だけ的確に支える'],
    cautions: ['何も考えていない、距離があると誤解されやすい', '本人の理解度が周囲に伝わりにくい'],
    imagePath: '/types/rcsp.jpg',
  },
  RCST: {
    type: 'RCST',
    name: '言葉待ち共感型',
    description: '言葉待ち共感型は、相手の感情を「空気」ではなく「言葉」で丁寧に受け取るタイプです。表情や雰囲気から察するのは得意ではないものの、相手が言語化してくれた感情や意図は、誠実に・正確に受け止めます。そのため早合点や思い込みが少なく、誤解の起きにくいコミュニケーションをしがち。自分から話を広げることは少ないですが、必要な場面では慎重に選んだ言葉で、的確な共感や整理を返します。',
    strengths: ['感情の受け取りが正確でズレにくい', '慎重で誠実、信頼を積み上げるタイプ', '議論や相談で感情を落ち着いて整理できる'],
    cautions: ['相手が感情を言語化しないと距離が縮みにくい', '無関心・冷たいと誤解されることがある'],
    imagePath: '/types/rcst.jpg',
  },

  // Reserved + Distill + Faceful + Perceptive
  RDFP: {
    type: 'RDFP',
    name: '静かな分析肌',
    description: '静かな分析肌は、多くを語らずとも状況を素早く把握しているタイプです。会話では前に出て話すことは少ないものの、表情や声のトーンにその理解度がにじみ出ます。感情に飲まれず、冷静に情報と流れを整理し、「ここがポイントだな」という部分だけを的確に拾うのが得意。必要な場面では短い一言や、わずかな表情の変化で空気を示し、周囲に気づきを与えます。',
    strengths: ['状況把握が早く、全体像を見失わない', '無駄な発言がなく、発言の密度が高い', '表情や声で要点を自然に強調できる'],
    cautions: ['考えていないと誤解されやすい', '周囲から「何を考えているかわからない」と思われがち'],
    imagePath: '/types/rdfp.jpg',
  },
  RDFT: {
    type: 'RDFT',
    name: 'クールな説明役',
    description: 'クールな説明役は、感情の波に引きずられず、事実と論点をまっすぐに扱うタイプです。共感を前面に出すことは少ないものの、話が感情的に散らかった場では、冷静で明確な言葉によって議論を整えます。無駄な前置きや曖昧な表現を好まず、「何が問題で、何を決めるべきか」を端的に示す役回りになりやすい存在。普段は静かですが、必要な瞬間だけはっきり発言し、その一言で空気を切り替えることがあります。',
    strengths: ['感情に左右されず、論点を正確に整理できる', 'はっきりした表現で誤解を生みにくい', '議論や意思決定の場で軸を作れる'],
    cautions: ['冷たく見られたり、ドライだと誤解されやすい', '共感を求められる場では距離を感じさせることがある'],
    imagePath: '/types/rdft.jpg',
  },
  RDSP: {
    type: 'RDSP',
    name: '影の参謀',
    description: '影の参謀は、表ではほとんど存在感を出さずにいながら、全体の状況や力関係を正確に把握しているタイプです。自分から発言することは少なく、感情を表に出すこともほぼありませんが、必要な場面では要点を突いた一言や行動で、裏から流れに影響を与えます。場の構造や人の動きを俯瞰で見ており、表に立つ人を支える位置に自然と収まりやすい存在。目立たない分、評価されにくいこともありますが、「いなかったら回らなかった」と後から気づかれるタイプです。',
    strengths: ['全体像を把握する力が高く、状況判断が的確', '無駄な発言をせず、裏から効く動きができる', '混乱した場でも冷静に最適解を見つけやすい'],
    cautions: ['存在感を消しすぎて、貢献が見えにくくなりがち', '表での評価や感謝が少なく、孤立感を抱くことがある'],
    imagePath: '/types/rdsp.jpg',
  },
  RDST: {
    type: 'RDST',
    name: 'ミニマルロボット',
    description: 'ミニマルロボットは、必要最低限の情報と行動だけでコミュニケーションを成立させる、超省エネ型のタイプです。感情の共有や雑談にはほとんど関心を示さず、「言われたこと」「決まっていること」を淡々と処理します。無駄な表現や動きがなく、反応も最小限。そのため冷たく見られがちですが、実際には一貫性があり、ブレない安定感を持っています。感情が絡む場面よりも、ルールや手順が明確な環境で真価を発揮する存在です。',
    strengths: ['情報処理が早く、無駄が一切ない', '感情に左右されず、常に一定の判断ができる', '省エネで継続力が高い'],
    cautions: ['感情的な配慮を求められると、誤解されやすい', '意図や善意が伝わらず、距離を感じさせることがある'],
    imagePath: '/types/rdst.jpg',
  },
};

// タイプコードからタイプ情報を取得
export const getTypeInfo = (type: CommunicationType): CommunicationTypeInfo => {
  return COMMUNICATION_TYPES[type];
};

// 軸スコアからタイプを判定
export const determineType = (scores: {
  assertiveness: number;
  listening: number;
  nonverbalExpression: number;
  nonverbalReading: number;
}): CommunicationType => {
  const axis1 = scores.assertiveness >= 50 ? 'A' : 'R';
  const axis2 = scores.listening >= 50 ? 'C' : 'D';
  const axis3 = scores.nonverbalExpression >= 50 ? 'F' : 'S';
  const axis4 = scores.nonverbalReading >= 50 ? 'P' : 'T';

  return `${axis1}${axis2}${axis3}${axis4}` as CommunicationType;
};
